{
	"info": {
		"_postman_id": "api-sunat-complete-beta-prod",
		"name": "API SUNAT - Sistema Completo (Beta y Producci√≥n)",
		"description": "Colecci√≥n completa del sistema de facturaci√≥n electr√≥nica SUNAT con soporte para ambientes Beta y Producci√≥n. Incluye configuraci√≥n paso a paso, todos los endpoints disponibles y workflows completos desde configuraci√≥n inicial hasta operaciones diarias.\n\nüèóÔ∏è **CONFIGURACI√ìN INICIAL REQUERIDA:**\n1. Configurar variables de ambiente (beta/producci√≥n)\n2. Ejecutar setup inicial del sistema\n3. Crear usuario administrador\n4. Configurar empresa con credenciales SUNAT\n5. Configurar sucursales y correlativos\n\nüìã **M√ìDULOS INCLUIDOS:**\n- Setup e inicializaci√≥n del sistema\n- Gesti√≥n de usuarios y autenticaci√≥n\n- Configuraci√≥n de empresas multi-tenant\n- Configuraciones avanzadas por empresa\n- Gesti√≥n de sucursales y clientes\n- Documentos electr√≥nicos (Facturas, Boletas, Notas)\n- Gu√≠as de remisi√≥n electr√≥nicas (GRE)\n- Res√∫menes diarios y anulaciones\n- Consultas CPE avanzadas\n- Servicios de ubigeo peruano\n\nüîÑ **AMBIENTES:**\n- **Beta**: Ambiente de pruebas SUNAT\n- **Producci√≥n**: Ambiente productivo SUNAT",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üèóÔ∏è FASE 1: INICIALIZACI√ìN DEL SISTEMA",
			"description": "Configuraci√≥n inicial del sistema antes de cualquier operaci√≥n. Incluye migraciones, seeders y verificaci√≥n del estado del sistema.",
			"item": [
				{
					"name": "1.1 - Verificar Estado del Sistema",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/status",
							"host": ["{{base_url}}"],
							"path": ["setup", "status"]
						},
						"description": "Verifica el estado actual del sistema, base de datos y dependencias."
					},
					"response": []
				},
				{
					"name": "1.2 - Ejecutar Migraciones",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/migrate",
							"host": ["{{base_url}}"],
							"path": ["setup", "migrate"]
						},
						"description": "Ejecuta todas las migraciones pendientes de base de datos."
					},
					"response": []
				},
				{
					"name": "1.3 - Ejecutar Seeders",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/setup/seed",
							"host": ["{{base_url}}"],
							"path": ["setup", "seed"]
						},
						"description": "Ejecuta los seeders para datos iniciales (roles, permisos, ubigeos)."
					},
					"response": []
				},
				{
					"name": "1.4 - Informaci√≥n del Sistema",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/system/info",
							"host": ["{{base_url}}"],
							"path": ["system", "info"]
						},
						"description": "Obtiene informaci√≥n detallada del sistema y configuraci√≥n."
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ FASE 2: GESTI√ìN DE USUARIOS Y AUTENTICACI√ìN",
			"description": "Sistema de autenticaci√≥n completo con Laravel Sanctum, gesti√≥n de usuarios y tokens de API.",
			"item": [
				{
					"name": "2.1 - Inicializar Usuario Administrador",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success) {",
									"        console.log('‚úÖ Usuario administrador creado exitosamente');",
									"        console.log('üìß Email: ' + jsonData.data.email);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Administrador del Sistema\",\n    \"email\": \"admin@sistema-sunat.com\",\n    \"password\": \"Admin123!@#\",\n    \"password_confirmation\": \"Admin123!@#\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/initialize",
							"host": ["{{base_url}}"],
							"path": ["auth", "initialize"]
						},
						"description": "Crea el primer usuario administrador del sistema. Solo funciona si no existen usuarios."
					},
					"response": []
				},
				{
					"name": "2.2 - Login y Obtener Token de Acceso",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.access_token) {",
									"        pm.collectionVariables.set('access_token', jsonData.access_token);",
									"        pm.collectionVariables.set('token_type', jsonData.token_type || 'Bearer');",
									"        pm.collectionVariables.set('user_id', jsonData.user.id);",
									"        pm.collectionVariables.set('user_name', jsonData.user.name);",
									"        console.log('‚úÖ Token obtenido: ' + jsonData.access_token.substring(0, 20) + '...');",
									"        console.log('üë§ Usuario: ' + jsonData.user.name + ' (' + jsonData.user.email + ')');",
									"        console.log('‚è∞ Expira en: ' + (jsonData.expires_in || 1440) + ' minutos');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@sistema-sunat.com\",\n    \"password\": \"Admin123!@#\",\n    \"token_name\": \"API Access Token\",\n    \"abilities\": [\"*\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						},
						"description": "Autentica usuario y obtiene token de acceso. El token se guarda autom√°ticamente."
					},
					"response": []
				},
				{
					"name": "2.3 - Verificar Usuario Autenticado",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/auth/me",
							"host": ["{{base_url}}"],
							"path": ["v1", "auth", "me"]
						},
						"description": "Obtiene informaci√≥n del usuario actualmente autenticado."
					},
					"response": []
				},
				{
					"name": "2.4 - Crear Usuario Adicional",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Usuario Operativo\",\n    \"email\": \"operativo@empresa.com\",\n    \"password\": \"User123!@#\",\n    \"password_confirmation\": \"User123!@#\",\n    \"role\": \"company_user\",\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/create-user",
							"host": ["{{base_url}}"],
							"path": ["auth", "create-user"]
						},
						"description": "Crea usuarios adicionales para el sistema con roles espec√≠ficos."
					},
					"response": []
				},
				{
					"name": "2.5 - Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout"]
						},
						"description": "Cierra sesi√≥n y revoca el token actual."
					},
					"response": []
				}
			]
		},
		{
			"name": "üè¢ FASE 3: GESTI√ìN DE EMPRESAS",
			"description": "Creaci√≥n y gesti√≥n de empresas multi-tenant con configuraciones SUNAT.",
			"item": [
				{
					"name": "3.1 - Listar Empresas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data && jsonData.data.length > 0) {",
									"        pm.collectionVariables.set('company_id', jsonData.data[0].id);",
									"        pm.collectionVariables.set('company_ruc', jsonData.data[0].ruc);",
									"        pm.collectionVariables.set('company_name', jsonData.data[0].razon_social);",
									"        console.log('‚úÖ Company ID seleccionado: ' + jsonData.data[0].id);",
									"        console.log('üè¢ Empresa: ' + jsonData.data[0].razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data[0].ruc);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies"]
						},
						"description": "Lista todas las empresas del usuario autenticado."
					},
					"response": []
				},
				{
					"name": "3.2 - Crear Nueva Empresa (Datos B√°sicos)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('company_id', jsonData.data.id);",
									"        pm.collectionVariables.set('company_ruc', jsonData.data.ruc);",
									"        pm.collectionVariables.set('company_name', jsonData.data.razon_social);",
									"        console.log('‚úÖ Nueva empresa creada - ID: ' + jsonData.data.id);",
									"        console.log('üè¢ Empresa: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data.ruc);",
									"        console.log('üîß Siguiente paso: Completar configuraci√≥n SUNAT');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ruc\": \"20123456789\",\n    \"razon_social\": \"EMPRESA DEMO SUNAT SAC\",\n    \"nombre_comercial\": \"Empresa Demo\",\n    \"direccion\": \"Av. Rep√∫blica de Argentina 123\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-1234567\",\n    \"email\": \"contacto@empresademo.com\",\n    \"usuario_sol\": \"DEMOUSER\",\n    \"clave_sol\": \"Demo123456\",\n    \"modo_produccion\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies"]
						},
						"description": "Crea una nueva empresa con datos b√°sicos. Usar modo_produccion: false para testing."
					},
					"response": []
				},
				{
					"name": "3.3 - Ver Empresa Espec√≠fica",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}"]
						},
						"description": "Obtiene detalles completos de una empresa espec√≠fica."
					},
					"response": []
				},
				{
					"name": "3.4 - Actualizar Empresa Completa (Form Data)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "ruc",
									"value": "{{company_ruc}}",
									"type": "text",
									"description": "RUC de la empresa (11 d√≠gitos)"
								},
								{
									"key": "razon_social",
									"value": "EMPRESA DEMO SUNAT ACTUALIZADA SAC",
									"type": "text"
								},
								{
									"key": "nombre_comercial",
									"value": "Empresa Demo Actualizada",
									"type": "text"
								},
								{
									"key": "usuario_sol",
									"value": "DEMOUSER",
									"type": "text",
									"description": "Usuario SOL para SUNAT"
								},
								{
									"key": "clave_sol",
									"value": "Demo123456",
									"type": "text",
									"description": "Clave SOL para SUNAT"
								},
								{
									"key": "certificado_digital",
									"type": "file",
									"src": "/path/to/certificado.p12",
									"description": "Certificado digital (.p12/.pfx)"
								},
								{
									"key": "clave_certificado",
									"value": "password_certificado",
									"type": "text",
									"description": "Contrase√±a del certificado"
								},
								{
									"key": "logo",
									"type": "file",
									"src": "/path/to/logo.png",
									"description": "Logo de la empresa"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}"]
						},
						"description": "Actualiza empresa con certificados, logos y datos completos usando form-data."
					},
					"response": []
				},
				{
					"name": "3.5 - Activar Empresa",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/activate",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "activate"]
						},
						"description": "Activa una empresa para operaciones."
					},
					"response": []
				},
				{
					"name": "3.6 - Cambiar a Modo Producci√≥n",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/toggle-production",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "toggle-production"]
						},
						"description": "Alterna entre modo beta y producci√≥n."
					},
					"response": []
				}
			]
		},
		{
			"name": "‚öôÔ∏è FASE 4: CONFIGURACIONES AVANZADAS",
			"description": "Sistema avanzado de configuraciones por empresa con soporte multi-ambiente.",
			"item": [
				{
					"name": "4.1 - Ver Configuraci√≥n Completa",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config"]
						},
						"description": "Obtiene todas las configuraciones de la empresa."
					},
					"response": []
				},
				{
					"name": "4.2 - Configurar Credenciales SUNAT",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"environment\": \"{{environment}}\",\n    \"config_data\": {\n        \"client_id\": \"{{environment}}_client_id_demo\",\n        \"client_secret\": \"{{environment}}_client_secret_demo\",\n        \"usuario_sol\": \"DEMOUSER\",\n        \"clave_sol\": \"Demo123456\",\n        \"ruc\": \"{{company_ruc}}\"\n    },\n    \"description\": \"Credenciales SUNAT para ambiente {{environment}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config/sunat_credentials",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config", "sunat_credentials"]
						},
						"description": "Configura credenciales SUNAT para el ambiente activo."
					},
					"response": []
				},
				{
					"name": "4.3 - Configurar Endpoints de Servicios",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"environment\": \"{{environment}}\",\n    \"service_type\": \"facturacion\",\n    \"config_data\": {\n        \"endpoint\": \"{{sunat_billing_endpoint}}\",\n        \"timeout\": 30,\n        \"retry_attempts\": 3,\n        \"max_file_size\": \"10MB\"\n    },\n    \"description\": \"Endpoints para facturaci√≥n electr√≥nica - {{environment}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config/service_endpoints",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config", "service_endpoints"]
						},
						"description": "Configura endpoints de servicios SUNAT."
					},
					"response": []
				},
				{
					"name": "4.4 - Configurar Impuestos",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"environment\": \"general\",\n    \"config_data\": {\n        \"igv_porcentaje\": 18,\n        \"isc_activo\": true,\n        \"icbper_monto\": 0.50,\n        \"ivap_porcentaje\": 4,\n        \"detraccion_activa\": false,\n        \"percepcion_activa\": false,\n        \"retencion_activa\": false\n    },\n    \"description\": \"Configuraci√≥n general de impuestos\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config/tax_settings",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config", "tax_settings"]
						},
						"description": "Configura par√°metros de impuestos peruanos."
					},
					"response": []
				},
				{
					"name": "4.5 - Configurar Facturaci√≥n",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"environment\": \"general\",\n    \"config_data\": {\n        \"moneda_default\": \"PEN\",\n        \"tipo_operacion_default\": \"0101\",\n        \"ubl_version\": \"2.1\",\n        \"formato_numero\": \"F###-########\",\n        \"envio_automatico\": true,\n        \"generar_pdf_automatico\": true,\n        \"incluir_leyendas_automaticas\": true\n    },\n    \"description\": \"Configuraci√≥n general de facturaci√≥n\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config/invoice_settings",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config", "invoice_settings"]
						},
						"description": "Configura par√°metros de facturaci√≥n electr√≥nica."
					},
					"response": []
				},
				{
					"name": "4.6 - Validar Configuraciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/config/validate/services",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "config", "validate", "services"]
						},
						"description": "Valida que todas las configuraciones est√©n correctas."
					},
					"response": []
				}
			]
		},
		{
			"name": "üè™ FASE 5: SUCURSALES Y CORRELATIVOS",
			"description": "Configuraci√≥n de sucursales y sistema de correlativos para documentos.",
			"item": [
				{
					"name": "5.1 - Crear Sucursal Principal",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('branch_id', jsonData.data.id);",
									"        pm.collectionVariables.set('branch_code', jsonData.data.codigo);",
									"        console.log('‚úÖ Sucursal creada - ID: ' + jsonData.data.id);",
									"        console.log('üè™ Nombre: ' + jsonData.data.nombre);",
									"        console.log('üî¢ C√≥digo: ' + jsonData.data.codigo);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"codigo\": \"0001\",\n    \"nombre\": \"Sucursal Principal\",\n    \"direccion\": \"Av. Rep√∫blica de Argentina 123\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-1234567\",\n    \"email\": \"principal@empresademo.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/branches",
							"host": ["{{base_url}}"],
							"path": ["v1", "branches"]
						},
						"description": "Crea la sucursal principal de la empresa."
					},
					"response": []
				},
				{
					"name": "5.2 - Listar Sucursales",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/branches",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "branches"]
						},
						"description": "Lista todas las sucursales de la empresa."
					},
					"response": []
				},
				{
					"name": "5.3 - Crear Correlativos B√°sicos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"correlativos\": [\n        {\n            \"tipo_documento\": \"01\",\n            \"serie\": \"F001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"03\",\n            \"serie\": \"B001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"07\",\n            \"serie\": \"FC01\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"08\",\n            \"serie\": \"FD01\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        },\n        {\n            \"tipo_documento\": \"09\",\n            \"serie\": \"T001\",\n            \"correlativo_actual\": 1,\n            \"activo\": true\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/correlatives/batch",
							"host": ["{{base_url}}"],
							"path": ["v1", "branches", "{{branch_id}}", "correlatives", "batch"]
						},
						"description": "Crea correlativos para los tipos de documento principales."
					},
					"response": []
				},
				{
					"name": "5.4 - Ver Correlativos de Sucursal",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/correlatives",
							"host": ["{{base_url}}"],
							"path": ["v1", "branches", "{{branch_id}}", "correlatives"]
						},
						"description": "Lista todos los correlativos de la sucursal."
					},
					"response": []
				},
				{
					"name": "5.5 - Activar Sucursal",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/branches/{{branch_id}}/activate",
							"host": ["{{base_url}}"],
							"path": ["v1", "branches", "{{branch_id}}", "activate"]
						},
						"description": "Activa la sucursal para operaciones."
					},
					"response": []
				}
			]
		},
		{
			"name": "üë• FASE 6: GESTI√ìN DE CLIENTES",
			"description": "Sistema de gesti√≥n de clientes con validaci√≥n de documentos peruanos.",
			"item": [
				{
					"name": "6.1 - Crear Cliente Persona Natural",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('client_dni_id', jsonData.data.id);",
									"        console.log('‚úÖ Cliente DNI creado - ID: ' + jsonData.data.id);",
									"        console.log('üë§ Cliente: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ DNI: ' + jsonData.data.numero_documento);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"tipo_documento\": \"1\",\n    \"numero_documento\": \"12345678\",\n    \"razon_social\": \"Juan Carlos P√©rez L√≥pez\",\n    \"direccion\": \"Av. Los Incas 456\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"987654321\",\n    \"email\": \"juan.perez@email.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients",
							"host": ["{{base_url}}"],
							"path": ["v1", "clients"]
						},
						"description": "Crea un cliente persona natural (DNI)."
					},
					"response": []
				},
				{
					"name": "6.2 - Crear Cliente Empresa",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('client_ruc_id', jsonData.data.id);",
									"        console.log('‚úÖ Cliente RUC creado - ID: ' + jsonData.data.id);",
									"        console.log('üè¢ Cliente: ' + jsonData.data.razon_social);",
									"        console.log('üìÑ RUC: ' + jsonData.data.numero_documento);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"tipo_documento\": \"6\",\n    \"numero_documento\": \"20987654321\",\n    \"razon_social\": \"CLIENTE CORPORATIVO SAC\",\n    \"nombre_comercial\": \"Cliente Corp\",\n    \"direccion\": \"Av. Javier Prado 1234\",\n    \"ubigeo\": \"150101\",\n    \"distrito\": \"Lima\",\n    \"provincia\": \"Lima\",\n    \"departamento\": \"Lima\",\n    \"telefono\": \"01-2345678\",\n    \"email\": \"contacto@clientecorp.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients",
							"host": ["{{base_url}}"],
							"path": ["v1", "clients"]
						},
						"description": "Crea un cliente empresa (RUC)."
					},
					"response": []
				},
				{
					"name": "6.3 - Listar Clientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/clients?per_page=20&search=",
							"host": ["{{base_url}}"],
							"path": ["v1", "clients"],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "search",
									"value": ""
								}
							]
						},
						"description": "Lista clientes con paginaci√≥n y b√∫squeda."
					},
					"response": []
				},
				{
					"name": "6.4 - Buscar Cliente por Documento",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"tipo_documento\": \"6\",\n    \"numero_documento\": \"20987654321\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/clients/search-by-document",
							"host": ["{{base_url}}"],
							"path": ["v1", "clients", "search-by-document"]
						},
						"description": "Busca cliente por tipo y n√∫mero de documento."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìÑ FASE 7: DOCUMENTOS ELECTR√ìNICOS - FACTURAS",
			"description": "Creaci√≥n y gesti√≥n de facturas electr√≥nicas con integraci√≥n SUNAT.",
			"item": [
				{
					"name": "7.1 - Crear Factura B√°sica",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('invoice_id', jsonData.data.id);",
									"        pm.collectionVariables.set('invoice_number', jsonData.data.numero_completo);",
									"        console.log('‚úÖ Factura creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"        console.log('üí∞ Total: S/ ' + jsonData.data.total);",
									"        console.log('üìä Estado: ' + jsonData.data.estado_sunat);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"client_id\": {{client_ruc_id}},\n    \"fecha_emision\": \"2024-01-15\",\n    \"fecha_vencimiento\": \"2024-01-30\",\n    \"moneda\": \"PEN\",\n    \"tipo_operacion\": \"0101\",\n    \"observaciones\": \"Factura de prueba\",\n    \"details\": [\n        {\n            \"cantidad\": 2,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Producto de prueba A\",\n            \"codigo_producto\": \"PROD001\",\n            \"valor_unitario\": 100.00,\n            \"precio_unitario\": 118.00,\n            \"descuento\": 0,\n            \"tip_afe_igv\": \"10\",\n            \"porcentaje_igv\": 18,\n            \"igv\": 36.00,\n            \"total_impuestos\": 36.00,\n            \"valor_venta\": 200.00\n        },\n        {\n            \"cantidad\": 1,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Servicio de consultor√≠a\",\n            \"codigo_producto\": \"SERV001\",\n            \"valor_unitario\": 500.00,\n            \"precio_unitario\": 590.00,\n            \"descuento\": 0,\n            \"tip_afe_igv\": \"10\",\n            \"porcentaje_igv\": 18,\n            \"igv\": 90.00,\n            \"total_impuestos\": 90.00,\n            \"valor_venta\": 500.00\n        }\n    ],\n    \"op_gravadas\": 700.00,\n    \"igv\": 126.00,\n    \"total\": 826.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/invoices",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices"]
						},
						"description": "Crea una factura b√°sica con productos y servicios."
					},
					"response": []
				},
				{
					"name": "7.2 - Listar Facturas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/invoices?per_page=20&company_id={{company_id}}&branch_id={{branch_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices"],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "branch_id",
									"value": "{{branch_id}}"
								}
							]
						},
						"description": "Lista facturas con filtros y paginaci√≥n."
					},
					"response": []
				},
				{
					"name": "7.3 - Ver Factura Espec√≠fica",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/invoices/{{invoice_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices", "{{invoice_id}}"]
						},
						"description": "Obtiene detalles completos de una factura."
					},
					"response": []
				},
				{
					"name": "7.4 - Enviar Factura a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/invoices/{{invoice_id}}/send-sunat",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices", "{{invoice_id}}", "send-sunat"]
						},
						"description": "Env√≠a la factura a SUNAT para validaci√≥n."
					},
					"response": []
				},
				{
					"name": "7.5 - Generar PDF de Factura",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"format\": \"a4\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/invoices/{{invoice_id}}/generate-pdf",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices", "{{invoice_id}}", "generate-pdf"]
						},
						"description": "Genera PDF de la factura en formato espec√≠fico."
					},
					"response": []
				},
				{
					"name": "7.6 - Descargar XML de Factura",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/invoices/{{invoice_id}}/download-xml",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices", "{{invoice_id}}", "download-xml"]
						},
						"description": "Descarga el archivo XML UBL de la factura."
					},
					"response": []
				},
				{
					"name": "7.7 - Descargar CDR de Factura",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/invoices/{{invoice_id}}/download-cdr",
							"host": ["{{base_url}}"],
							"path": ["v1", "invoices", "{{invoice_id}}", "download-cdr"]
						},
						"description": "Descarga la respuesta CDR de SUNAT."
					},
					"response": []
				}
			]
		},
		{
			"name": "üßæ FASE 8: DOCUMENTOS ELECTR√ìNICOS - BOLETAS",
			"description": "Gesti√≥n de boletas electr√≥nicas y res√∫menes diarios.",
			"item": [
				{
					"name": "8.1 - Crear Boleta de Venta",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('boleta_id', jsonData.data.id);",
									"        pm.collectionVariables.set('boleta_number', jsonData.data.numero_completo);",
									"        console.log('‚úÖ Boleta creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"        console.log('üí∞ Total: S/ ' + jsonData.data.total);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"client_id\": {{client_dni_id}},\n    \"fecha_emision\": \"2024-01-15\",\n    \"moneda\": \"PEN\",\n    \"tipo_operacion\": \"0101\",\n    \"observaciones\": \"Boleta de venta\",\n    \"details\": [\n        {\n            \"cantidad\": 3,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Producto consumo A\",\n            \"codigo_producto\": \"PROD002\",\n            \"valor_unitario\": 50.00,\n            \"precio_unitario\": 59.00,\n            \"descuento\": 0,\n            \"tip_afe_igv\": \"10\",\n            \"porcentaje_igv\": 18,\n            \"igv\": 27.00,\n            \"total_impuestos\": 27.00,\n            \"valor_venta\": 150.00\n        }\n    ],\n    \"op_gravadas\": 150.00,\n    \"igv\": 27.00,\n    \"total\": 177.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/boletas",
							"host": ["{{base_url}}"],
							"path": ["v1", "boletas"]
						},
						"description": "Crea una boleta de venta para consumidor final."
					},
					"response": []
				},
				{
					"name": "8.2 - Listar Boletas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/boletas?per_page=20&company_id={{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "boletas"],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								},
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Lista boletas con filtros."
					},
					"response": []
				},
				{
					"name": "8.3 - Obtener Boletas Pendientes para Resumen",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/boletas/pending-for-summary?company_id={{company_id}}&fecha=2024-01-15",
							"host": ["{{base_url}}"],
							"path": ["v1", "boletas", "pending-for-summary"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "fecha",
									"value": "2024-01-15"
								}
							]
						},
						"description": "Obtiene boletas que necesitan ser incluidas en resumen diario."
					},
					"response": []
				},
				{
					"name": "8.4 - Crear Resumen Diario",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('daily_summary_id', jsonData.data.id);",
									"        console.log('‚úÖ Resumen diario creado - ID: ' + jsonData.data.id);",
									"        console.log('üìÖ Fecha: ' + jsonData.data.fecha_referencia);",
									"        console.log('üìä Documentos incluidos: ' + jsonData.data.cantidad_documentos);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"fecha_referencia\": \"2024-01-15\",\n    \"fecha_emision\": \"2024-01-16\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/boletas/create-daily-summary",
							"host": ["{{base_url}}"],
							"path": ["v1", "boletas", "create-daily-summary"]
						},
						"description": "Crea resumen diario autom√°ticamente con las boletas del d√≠a."
					},
					"response": []
				},
				{
					"name": "8.5 - Enviar Resumen Diario a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/daily-summaries/{{daily_summary_id}}/send-sunat",
							"host": ["{{base_url}}"],
							"path": ["v1", "daily-summaries", "{{daily_summary_id}}", "send-sunat"]
						},
						"description": "Env√≠a el resumen diario a SUNAT."
					},
					"response": []
				},
				{
					"name": "8.6 - Consultar Estado de Resumen",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/daily-summaries/{{daily_summary_id}}/check-status",
							"host": ["{{base_url}}"],
							"path": ["v1", "daily-summaries", "{{daily_summary_id}}", "check-status"]
						},
						"description": "Consulta el estado del resumen en SUNAT usando el ticket."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù FASE 9: NOTAS DE CR√âDITO Y D√âBITO",
			"description": "Gesti√≥n de notas de cr√©dito y d√©bito para modificar documentos.",
			"item": [
				{
					"name": "9.1 - Crear Nota de Cr√©dito",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('credit_note_id', jsonData.data.id);",
									"        console.log('‚úÖ Nota de cr√©dito creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"        console.log('üîó Documento referencia: ' + jsonData.data.documento_referencia);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"client_id\": {{client_ruc_id}},\n    \"fecha_emision\": \"2024-01-16\",\n    \"moneda\": \"PEN\",\n    \"tipo_documento_ref\": \"01\",\n    \"numero_documento_ref\": \"{{invoice_number}}\",\n    \"fecha_documento_ref\": \"2024-01-15\",\n    \"motivo_codigo\": \"01\",\n    \"motivo_descripcion\": \"Anulaci√≥n de la operaci√≥n\",\n    \"observaciones\": \"Nota de cr√©dito por error en facturaci√≥n\",\n    \"details\": [\n        {\n            \"cantidad\": 1,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Anulaci√≥n Producto de prueba A\",\n            \"codigo_producto\": \"PROD001\",\n            \"valor_unitario\": 100.00,\n            \"precio_unitario\": 118.00,\n            \"descuento\": 0,\n            \"tip_afe_igv\": \"10\",\n            \"porcentaje_igv\": 18,\n            \"igv\": 18.00,\n            \"total_impuestos\": 18.00,\n            \"valor_venta\": 100.00\n        }\n    ],\n    \"op_gravadas\": 100.00,\n    \"igv\": 18.00,\n    \"total\": 118.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/credit-notes",
							"host": ["{{base_url}}"],
							"path": ["v1", "credit-notes"]
						},
						"description": "Crea una nota de cr√©dito referenciando una factura."
					},
					"response": []
				},
				{
					"name": "9.2 - Crear Nota de D√©bito",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('debit_note_id', jsonData.data.id);",
									"        console.log('‚úÖ Nota de d√©bito creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"client_id\": {{client_ruc_id}},\n    \"fecha_emision\": \"2024-01-16\",\n    \"moneda\": \"PEN\",\n    \"tipo_documento_ref\": \"01\",\n    \"numero_documento_ref\": \"{{invoice_number}}\",\n    \"fecha_documento_ref\": \"2024-01-15\",\n    \"motivo_codigo\": \"01\",\n    \"motivo_descripcion\": \"Aumento en el valor\",\n    \"observaciones\": \"Nota de d√©bito por intereses moratorios\",\n    \"details\": [\n        {\n            \"cantidad\": 1,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Intereses moratorios\",\n            \"codigo_producto\": \"INT001\",\n            \"valor_unitario\": 50.00,\n            \"precio_unitario\": 59.00,\n            \"descuento\": 0,\n            \"tip_afe_igv\": \"10\",\n            \"porcentaje_igv\": 18,\n            \"igv\": 9.00,\n            \"total_impuestos\": 9.00,\n            \"valor_venta\": 50.00\n        }\n    ],\n    \"op_gravadas\": 50.00,\n    \"igv\": 9.00,\n    \"total\": 59.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/debit-notes",
							"host": ["{{base_url}}"],
							"path": ["v1", "debit-notes"]
						},
						"description": "Crea una nota de d√©bito para aumentar el valor de un documento."
					},
					"response": []
				},
				{
					"name": "9.3 - Listar Notas de Cr√©dito",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/credit-notes?company_id={{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "credit-notes"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Lista todas las notas de cr√©dito."
					},
					"response": []
				},
				{
					"name": "9.4 - Enviar Nota de Cr√©dito a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/credit-notes/{{credit_note_id}}/send-sunat",
							"host": ["{{base_url}}"],
							"path": ["v1", "credit-notes", "{{credit_note_id}}", "send-sunat"]
						},
						"description": "Env√≠a la nota de cr√©dito a SUNAT."
					},
					"response": []
				}
			]
		},
		{
			"name": "üöö FASE 10: GU√çAS DE REMISI√ìN ELECTR√ìNICAS (GRE)",
			"description": "Sistema completo de gu√≠as de remisi√≥n electr√≥nicas con integraci√≥n SUNAT GRE.",
			"item": [
				{
					"name": "10.1 - Configurar Credenciales GRE",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"client_id_beta\": \"{{gre_client_id_beta}}\",\n    \"client_secret_beta\": \"{{gre_client_secret_beta}}\",\n    \"client_id_produccion\": \"{{gre_client_id_prod}}\",\n    \"client_secret_produccion\": \"{{gre_client_secret_prod}}\",\n    \"ruc_proveedor\": \"{{company_ruc}}\",\n    \"usuario_sol\": \"DEMOUSER\",\n    \"clave_sol\": \"Demo123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/gre-credentials",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "gre-credentials"]
						},
						"description": "Configura credenciales para GRE (Gu√≠as de Remisi√≥n Electr√≥nicas)."
					},
					"response": []
				},
				{
					"name": "10.2 - Probar Conexi√≥n GRE",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/companies/{{company_id}}/gre-credentials/test-connection",
							"host": ["{{base_url}}"],
							"path": ["v1", "companies", "{{company_id}}", "gre-credentials", "test-connection"]
						},
						"description": "Prueba la conexi√≥n con los servicios GRE de SUNAT."
					},
					"response": []
				},
				{
					"name": "10.3 - Crear Gu√≠a de Remisi√≥n",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('dispatch_guide_id', jsonData.data.id);",
									"        console.log('‚úÖ Gu√≠a de remisi√≥n creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ N√∫mero: ' + jsonData.data.numero_completo);",
									"        console.log('üöö Motivo traslado: ' + jsonData.data.motivo_traslado);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"fecha_emision\": \"2024-01-15\",\n    \"fecha_traslado\": \"2024-01-16\",\n    \"motivo_traslado\": \"01\",\n    \"descripcion_motivo\": \"Venta\",\n    \"indicador_transbordo_programado\": false,\n    \"peso_bruto_total\": 100.50,\n    \"numero_bultos\": 10,\n    \"modalidad_transporte\": \"02\",\n    \"observaciones\": \"Traslado de mercader√≠a vendida\",\n    \"direccion_partida\": {\n        \"ubigeo\": \"150101\",\n        \"direccion\": \"Av. Rep√∫blica de Argentina 123\",\n        \"ruc_emisor\": \"{{company_ruc}}\"\n    },\n    \"direccion_llegada\": {\n        \"ubigeo\": \"150102\",\n        \"direccion\": \"Av. Javier Prado 1234\",\n        \"ruc_destinatario\": \"20987654321\"\n    },\n    \"transportista\": {\n        \"tipo_documento\": \"6\",\n        \"numero_documento\": \"20111222333\",\n        \"razon_social\": \"TRANSPORTES DEMO SAC\",\n        \"numero_mtc\": \"MTC001234\"\n    },\n    \"conductor\": {\n        \"tipo_documento\": \"1\",\n        \"numero_documento\": \"12345678\",\n        \"nombres\": \"Juan\",\n        \"apellidos\": \"P√©rez Garc√≠a\",\n        \"numero_licencia\": \"Q12345678\"\n    },\n    \"vehiculo\": {\n        \"numero_placa\": \"ABC-123\"\n    },\n    \"details\": [\n        {\n            \"cantidad\": 10,\n            \"unidad_medida\": \"NIU\",\n            \"descripcion\": \"Producto para traslado\",\n            \"codigo\": \"PROD001\",\n            \"peso_unitario\": 10.05\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides",
							"host": ["{{base_url}}"],
							"path": ["v1", "dispatch-guides"]
						},
						"description": "Crea una gu√≠a de remisi√≥n con todos los datos requeridos."
					},
					"response": []
				},
				{
					"name": "10.4 - Listar Gu√≠as de Remisi√≥n",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides?company_id={{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "dispatch-guides"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Lista todas las gu√≠as de remisi√≥n."
					},
					"response": []
				},
				{
					"name": "10.5 - Enviar Gu√≠a a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/dispatch-guides/{{dispatch_guide_id}}/send-sunat",
							"host": ["{{base_url}}"],
							"path": ["v1", "dispatch-guides", "{{dispatch_guide_id}}", "send-sunat"]
						},
						"description": "Env√≠a la gu√≠a de remisi√≥n a SUNAT GRE."
					},
					"response": []
				}
			]
		},
		{
			"name": "‚ùå FASE 11: ANULACIONES Y COMUNICACIONES DE BAJA",
			"description": "Sistema de anulaci√≥n de documentos y comunicaciones de baja a SUNAT.",
			"item": [
				{
					"name": "11.1 - Obtener Documentos Disponibles para Anular",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/available?company_id={{company_id}}&fecha=2024-01-15",
							"host": ["{{base_url}}"],
							"path": ["v1", "voided-documents", "available"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "fecha",
									"value": "2024-01-15"
								}
							]
						},
						"description": "Obtiene documentos que pueden ser anulados para una fecha espec√≠fica."
					},
					"response": []
				},
				{
					"name": "11.2 - Crear Comunicaci√≥n de Baja",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('voided_document_id', jsonData.data.id);",
									"        console.log('‚úÖ Comunicaci√≥n de baja creada - ID: ' + jsonData.data.id);",
									"        console.log('üìÑ Identificador: ' + jsonData.data.identificador);",
									"        console.log('üìÖ Fecha referencia: ' + jsonData.data.fecha_referencia);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"branch_id\": {{branch_id}},\n    \"fecha_referencia\": \"2024-01-15\",\n    \"fecha_comunicacion\": \"2024-01-16\",\n    \"motivo\": \"Error en la emisi√≥n del comprobante\",\n    \"documents\": [\n        {\n            \"tipo_documento\": \"01\",\n            \"serie\": \"F001\",\n            \"correlativo\": \"1\",\n            \"motivo_baja\": \"Error en datos del cliente\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/voided-documents",
							"host": ["{{base_url}}"],
							"path": ["v1", "voided-documents"]
						},
						"description": "Crea una comunicaci√≥n de baja para anular documentos."
					},
					"response": []
				},
				{
					"name": "11.3 - Enviar Comunicaci√≥n de Baja a SUNAT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/{{voided_document_id}}/send-sunat",
							"host": ["{{base_url}}"],
							"path": ["v1", "voided-documents", "{{voided_document_id}}", "send-sunat"]
						},
						"description": "Env√≠a la comunicaci√≥n de baja a SUNAT."
					},
					"response": []
				},
				{
					"name": "11.4 - Consultar Estado de Comunicaci√≥n",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/voided-documents/{{voided_document_id}}/check-status",
							"host": ["{{base_url}}"],
							"path": ["v1", "voided-documents", "{{voided_document_id}}", "check-status"]
						},
						"description": "Consulta el estado de la comunicaci√≥n de baja en SUNAT."
					},
					"response": []
				}
			]
		},
		{
			"name": "üîç FASE 12: CONSULTAS CPE AVANZADAS",
			"description": "Sistema avanzado de consultas CPE con OAuth2 y fallback SOAP.",
			"item": [
				{
					"name": "12.1 - Consultar Factura Individual",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/factura/{{invoice_id}}/con-cdr",
							"host": ["{{base_url}}"],
							"path": ["v1", "consulta-cpe-v2", "factura", "{{invoice_id}}", "con-cdr"]
						},
						"description": "Consulta estado de factura con descarga de CDR si est√° disponible."
					},
					"response": []
				},
				{
					"name": "12.2 - Consulta por Datos Directos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"ruc_emisor\": \"{{company_ruc}}\",\n    \"tipo_documento\": \"01\",\n    \"serie\": \"F001\",\n    \"correlativo\": \"1\",\n    \"fecha_emision\": \"2024-01-15\",\n    \"monto_total\": 826.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/por-datos",
							"host": ["{{base_url}}"],
							"path": ["v1", "consulta-cpe-v2", "por-datos"]
						},
						"description": "Consulta CPE proporcionando directamente los datos del documento."
					},
					"response": []
				},
				{
					"name": "12.3 - Consulta Masiva por IDs",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_id\": {{company_id}},\n    \"document_ids\": [\n        {{invoice_id}},\n        {{boleta_id}}\n    ],\n    \"tipos_documento\": [\"01\", \"03\"],\n    \"descargar_cdr\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/masivo",
							"host": ["{{base_url}}"],
							"path": ["v1", "consulta-cpe-v2", "masivo"]
						},
						"description": "Realiza consultas masivas de m√∫ltiples documentos."
					},
					"response": []
				},
				{
					"name": "12.4 - Estad√≠sticas de Consultas",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/consulta-cpe-v2/estadisticas?company_id={{company_id}}&fecha_desde=2024-01-01&fecha_hasta=2024-01-31",
							"host": ["{{base_url}}"],
							"path": ["v1", "consulta-cpe-v2", "estadisticas"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								},
								{
									"key": "fecha_desde",
									"value": "2024-01-01"
								},
								{
									"key": "fecha_hasta",
									"value": "2024-01-31"
								}
							]
						},
						"description": "Obtiene estad√≠sticas de consultas CPE por per√≠odo."
					},
					"response": []
				}
			]
		},
		{
			"name": "üåé FASE 13: SERVICIOS DE UBIGEO PERUANO",
			"description": "Servicios completos de c√≥digos geogr√°ficos del Per√∫ (INEI).",
			"item": [
				{
					"name": "13.1 - Listar Regiones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/regiones",
							"host": ["{{base_url}}"],
							"path": ["v1", "ubigeos", "regiones"]
						},
						"description": "Lista todas las regiones del Per√∫."
					},
					"response": []
				},
				{
					"name": "13.2 - Listar Provincias de Lima",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/provincias?region_id=150000",
							"host": ["{{base_url}}"],
							"path": ["v1", "ubigeos", "provincias"],
							"query": [
								{
									"key": "region_id",
									"value": "150000",
									"description": "C√≥digo de regi√≥n Lima"
								}
							]
						},
						"description": "Lista provincias de una regi√≥n espec√≠fica."
					},
					"response": []
				},
				{
					"name": "13.3 - Listar Distritos de Lima Metropolitana",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/distritos?provincia_id=150100",
							"host": ["{{base_url}}"],
							"path": ["v1", "ubigeos", "distritos"],
							"query": [
								{
									"key": "provincia_id",
									"value": "150100",
									"description": "C√≥digo de provincia Lima"
								}
							]
						},
						"description": "Lista distritos de una provincia espec√≠fica."
					},
					"response": []
				},
				{
					"name": "13.4 - Buscar Ubigeo por Nombre",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/search?q=miraflores",
							"host": ["{{base_url}}"],
							"path": ["v1", "ubigeos", "search"],
							"query": [
								{
									"key": "q",
									"value": "miraflores",
									"description": "T√©rmino de b√∫squeda"
								}
							]
						},
						"description": "Busca ubicaciones geogr√°ficas por nombre."
					},
					"response": []
				},
				{
					"name": "13.5 - Obtener Ubigeo por C√≥digo",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/ubigeos/150101",
							"host": ["{{base_url}}"],
							"path": ["v1", "ubigeos", "150101"]
						},
						"description": "Obtiene informaci√≥n completa de un ubigeo espec√≠fico."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä FASE 14: CONFIGURACIONES GENERALES Y REPORTES",
			"description": "Configuraciones del sistema y generaci√≥n de reportes.",
			"item": [
				{
					"name": "14.1 - Ver Configuraciones por Defecto",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/config/defaults",
							"host": ["{{base_url}}"],
							"path": ["v1", "config", "defaults"]
						},
						"description": "Obtiene configuraciones por defecto del sistema."
					},
					"response": []
				},
				{
					"name": "14.2 - Resumen de Configuraciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/config/summary?company_id={{company_id}}",
							"host": ["{{base_url}}"],
							"path": ["v1", "config", "summary"],
							"query": [
								{
									"key": "company_id",
									"value": "{{company_id}}"
								}
							]
						},
						"description": "Resumen completo de configuraciones por empresa."
					},
					"response": []
				},
				{
					"name": "14.3 - Ver Tipos de Documento SUNAT",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/correlatives/document-types",
							"host": ["{{base_url}}"],
							"path": ["v1", "correlatives", "document-types"]
						},
						"description": "Lista todos los tipos de documento SUNAT disponibles."
					},
					"response": []
				},
				{
					"name": "14.4 - Ver Formatos PDF Disponibles",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/pdf/formats",
							"host": ["{{base_url}}"],
							"path": ["v1", "pdf", "formats"]
						},
						"description": "Lista formatos de PDF disponibles para generaci√≥n."
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Configuraci√≥n autom√°tica de variables de ambiente",
					"const environment = pm.collectionVariables.get('environment') || 'beta';",
					"",
					"// URLs base seg√∫n ambiente",
					"if (environment === 'beta') {",
					"    pm.collectionVariables.set('sunat_billing_endpoint', 'https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService');",
					"    pm.collectionVariables.set('sunat_gre_endpoint', 'https://api-cpe-beta.sunat.gob.pe/v1/');",
					"    pm.collectionVariables.set('sunat_oauth_endpoint', 'https://api-beta.sunat.gob.pe');",
					"} else {",
					"    pm.collectionVariables.set('sunat_billing_endpoint', 'https://e-factura.sunat.gob.pe/ol-ti-itcpfegem/billService');",
					"    pm.collectionVariables.set('sunat_gre_endpoint', 'https://api-cpe.sunat.gob.pe/v1/');",
					"    pm.collectionVariables.set('sunat_oauth_endpoint', 'https://api.sunat.gob.pe');",
					"}",
					"",
					"console.log('üåê Ambiente actual: ' + environment);",
					"console.log('üîó Endpoint facturaci√≥n: ' + pm.collectionVariables.get('sunat_billing_endpoint'));"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Logging autom√°tico de respuestas para debugging",
					"if (pm.response.code >= 400) {",
					"    console.log('‚ùå Error en request: ' + pm.request.name);",
					"    console.log('üìä Status: ' + pm.response.code);",
					"    console.log('üìù Response: ' + pm.response.text());",
					"} else if (pm.response.code >= 200 && pm.response.code < 300) {",
					"    console.log('‚úÖ Success: ' + pm.request.name + ' (' + pm.response.code + ')');",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api",
			"type": "string",
			"description": "URL base del API - Cambiar seg√∫n ambiente"
		},
		{
			"key": "environment",
			"value": "beta",
			"type": "string",
			"description": "Ambiente: 'beta' para pruebas, 'produccion' para uso real"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string",
			"description": "Token de acceso - Se asigna autom√°ticamente al hacer login"
		},
		{
			"key": "token_type",
			"value": "Bearer",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_name",
			"value": "",
			"type": "string"
		},
		{
			"key": "company_id",
			"value": "",
			"type": "string",
			"description": "ID de empresa - Se asigna al crear/seleccionar empresa"
		},
		{
			"key": "company_ruc",
			"value": "",
			"type": "string"
		},
		{
			"key": "company_name",
			"value": "",
			"type": "string"
		},
		{
			"key": "branch_id",
			"value": "",
			"type": "string",
			"description": "ID de sucursal - Se asigna al crear sucursal"
		},
		{
			"key": "branch_code",
			"value": "",
			"type": "string"
		},
		{
			"key": "client_dni_id",
			"value": "",
			"type": "string",
			"description": "ID de cliente persona natural"
		},
		{
			"key": "client_ruc_id",
			"value": "",
			"type": "string",
			"description": "ID de cliente empresa"
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "invoice_number",
			"value": "",
			"type": "string"
		},
		{
			"key": "boleta_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "boleta_number",
			"value": "",
			"type": "string"
		},
		{
			"key": "credit_note_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "debit_note_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "dispatch_guide_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "daily_summary_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "voided_document_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "sunat_billing_endpoint",
			"value": "",
			"type": "string",
			"description": "Endpoint SUNAT para facturaci√≥n - Se configura autom√°ticamente"
		},
		{
			"key": "sunat_gre_endpoint",
			"value": "",
			"type": "string",
			"description": "Endpoint SUNAT para GRE - Se configura autom√°ticamente"
		},
		{
			"key": "sunat_oauth_endpoint",
			"value": "",
			"type": "string",
			"description": "Endpoint OAuth2 SUNAT - Se configura autom√°ticamente"
		},
		{
			"key": "gre_client_id_beta",
			"value": "demo_client_beta",
			"type": "string",
			"description": "Client ID para GRE ambiente Beta"
		},
		{
			"key": "gre_client_secret_beta",
			"value": "demo_secret_beta",
			"type": "string",
			"description": "Client Secret para GRE ambiente Beta"
		},
		{
			"key": "gre_client_id_prod",
			"value": "",
			"type": "string",
			"description": "Client ID para GRE ambiente Producci√≥n"
		},
		{
			"key": "gre_client_secret_prod",
			"value": "",
			"type": "string",
			"description": "Client Secret para GRE ambiente Producci√≥n"
		}
	]
}